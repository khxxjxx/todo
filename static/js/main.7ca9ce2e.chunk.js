(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(19),i=n.n(o),r=n(9),s=n(4),d=n(17),l=n.n(d),u=n(16),j=n(1),f=function(e){return Object(j.jsxs)("li",{className:"".concat(e.clicked?"clicked":""),children:[Object(j.jsx)("input",{onClick:function(){e.onClick(e.id)},className:"checkbox",type:"checkbox",id:e.id}),Object(j.jsx)("label",{htmlFor:e.id}),e.children,Object(j.jsx)("button",{className:"delete",onClick:function(){e.onDelete(e.id)},children:"\u2715"})]})},h=function(e){return Object(j.jsx)("div",{className:"list",children:Object(j.jsx)("ul",{children:e.list.map((function(t){return Object(j.jsx)(f,{id:t.id,clicked:t.clicked,onDelete:e.onDelete,onClick:e.onClick,children:t.value},t.id)}))})})},b=function(e){var t=localStorage.getItem(e.now);t=null===t?[]:JSON.parse(t);var n=Object(c.useState)(""),a=Object(r.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(t),d=Object(r.a)(s,2),l=d[0],f=d[1];Object(c.useEffect)((function(){f(t)}),[e.now]),Object(c.useEffect)((function(){localStorage.setItem(e.now,JSON.stringify(l))}),[l]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("form",{className:"input",onSubmit:function(e){e.preventDefault(),""!==o&&f((function(e){return[].concat(Object(u.a)(e),[{id:l.length,value:o,clicked:!1}])})),i("")},children:Object(j.jsx)("input",{type:"text",value:o,placeholder:"\ud560\uc77c\uc744 \uc801\uc5b4\uc8fc\uc138\uc694",onChange:function(e){i(e.target.value)}})}),Object(j.jsx)(h,{list:l,id:l.id,clicked:l.clicked,onDelete:function(e){if(window.confirm("\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc644\uc804\ud788 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var t=l.filter((function(t){return t.id!==e}));f(t)}},onClick:function(e){var t=Object(u.a)(l);t[t.findIndex((function(t){return t.id===e}))].clicked=!t[t.findIndex((function(t){return t.id===e}))].clicked,f(t)},setList:f})]})},O=n(79),m=n(78),v=n(80),x=n(13),g=function(e){var t=function(){e.setNow(l()())};return Object(j.jsx)(O.a,{bg:"dark",variant:"dark",className:"header",children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)(x.b,{to:"/todo/today",children:Object(j.jsx)(O.a.Brand,{className:"todo",onClick:t,children:"TO DO"})}),Object(j.jsxs)(v.a,{onClick:t,className:"justify-content-end",children:[Object(j.jsx)(x.c,{as:x.b,to:"/todo/today",className:"nav__today",activeClassName:"active",children:"Today"}),Object(j.jsx)(x.c,{as:x.b,to:"/todo/month",className:"nav__month",activeClassName:"active",children:"Month"})]})]})})},w=function(e){var t=Object(c.useState)(new Date),n=Object(r.a)(t,2),a=n[0],o=n[1],i="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate())===e.now.clone().format("YYYY-M-D");return Object(c.useEffect)((function(){if(i)return setTimeout((function(){o(new Date)}),1e3),function(){clearTimeout()}}),[a,e.now]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"date",children:[e.now.clone().format("M"),"\uc6d4 ",e.now.clone().format("DD"),"\uc77c"]}),i?Object(j.jsxs)("div",{className:"clock",children:[a.getHours(),":","".concat(a.getMinutes()<10?"0".concat(a.getMinutes()):"".concat(a.getMinutes())),":","".concat(a.getSeconds()<10?"0".concat(a.getSeconds()):"".concat(a.getSeconds()))]}):Object(j.jsx)("div",{className:"none-clock"})]})},p=function(e){var t=e.days,n=e.idx,c=e.now,a=e.today,o=e.onDaysChange;return Object(j.jsxs)("div",{className:"day ".concat(3===n?"":"choice"),onClick:function(e){e.preventDefault(),o(n)},children:[Object(j.jsx)("div",{children:t.find((function(e){return e.id==c.clone().subtract(3,"day").add(n,"day").format("e")})).day}),Object(j.jsx)("div",{className:c.clone().subtract(3,"day").add(n,"day").format("YYYY-M-D")==="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate())?"today":"",children:c.clone().subtract(3,"day").add(n,"day").format("DD","date")})]})},y=function(e){var t=new Date,n=e.now,a=e.setNow,o=Object(c.useState)([{id:0,day:"Sun"},{id:1,day:"Mon"},{id:2,day:"Tue"},{id:3,day:"Wed"},{id:4,day:"Thu"},{id:5,day:"Fri"},{id:6,day:"Sat"}]),i=Object(r.a)(o,2),s=i[0],d=i[1],l=function(e){if(e>3){e-=3;var t=n.clone().add(e,"day");a(t);for(var c=Object(u.a)(s);e>0;e--)c.push(c.shift());d(c)}else if(e<3){e=3-e;var o=n.clone().subtract(e,"day");a(o);for(var i=Object(u.a)(s);e>0;e--)i.unshift(i.pop());d(i)}};return Object(j.jsxs)("div",{className:"week",children:[Object(j.jsx)("button",{onClick:function(e){e.preventDefault();var t=Object(u.a)(s);t.unshift(t.pop()),d(t);var c=n.clone().subtract(1,"day");a(c)},children:"\u2190"}),s.map((function(e,c){return Object(j.jsx)(p,{days:s,idx:c,now:n,today:t,onDaysChange:l},c)})),Object(j.jsx)("button",{onClick:function(e){e.preventDefault();var t=Object(u.a)(s);t.push(t.shift()),d(t);var c=n.clone().add(1,"day");a(c)},children:"\u2192"})]})},k=n(41),N=n.n(k),Y=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1],o=function(e,t){var n=""!==e?"lat=".concat(e,"&lon=").concat(t):"id=1835848";N.a.get("https://api.openweathermap.org/data/2.5/weather?".concat(n,"&appid=").concat("db12e04819ac28353c1e63583c12d0ca","&units=metric")).then((function(e){var t={temp:"".concat(Math.floor(e.data.main.temp),"\u2103"),name:e.data.name,weather:e.data.weather[0].main,icon:"https://openweathermap.org/img/wn/".concat(e.data.weather[0].icon,".png")};a(t)})).catch((function(){alert("\uc704\uce58\uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}))},i=Object(c.useCallback)((function(e){var t=e.coords.latitude,n=e.coords.longitude;o(t,n)}),[]),s=Object(c.useCallback)((function(){o("")}),[]);return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition(i,s)}),[n,i,s]),Object(j.jsxs)("div",{className:"weather",children:[Object(j.jsx)("img",{className:"weather-icon",src:n.icon,alt:""}),Object(j.jsx)("span",{className:"temp",children:n.temp}),Object(j.jsxs)("span",{className:"sky",children:[" ",n.weather]}),Object(j.jsxs)("span",{className:"city",children:[" ",n.name]})]})},D=function(e){return Object(j.jsx)("span",{onClick:function(t){t.preventDefault(),e.onClick(e.days)},children:e.children})},M=function(e){var t=Object(c.useState)(l()()),n=Object(r.a)(t,2),a=n[0],o=n[1],i=a,s=i.clone().startOf("month").week(),d=1===i.clone().endOf("month").week()?53:i.clone().endOf("month").week(),u=function(t){e.setNow(t),e.history.push("/todo/today")};return Object(j.jsx)("div",{className:"calendar",children:Object(j.jsxs)("div",{className:"month",children:[Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("button",{onClick:function(){o(a.clone().subtract(1,"month"))},children:"\u2190"}),Object(j.jsx)("span",{children:i.format("YYYY \ub144 MM \uc6d4")}),Object(j.jsx)("button",{onClick:function(){o(a.clone().add(1,"month"))},children:"\u2192"})]}),Object(j.jsx)("div",{className:"days ".concat(d-s===5?"more-days":""),children:Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:function(){for(var e=[],t=s;t<=d;t++)e=e.concat(Object(j.jsx)("tr",{children:Array(7).fill(0).map((function(e,n){var c=i.clone().startOf("year").week(t).startOf("week").add(n,"day");return Object(j.jsxs)("td",{className:"month__day ".concat(l()().format("YYYYMMDD")===c.format("YYYYMMDD")?"month__today":a.format("MM")!==c.format("MM")?"month__days":""),children:[Object(j.jsx)(D,{days:c,onClick:u,children:c.format("D")}),Object(j.jsx)("div",{className:"get-item ".concat("[]"===localStorage.getItem(c.format("YYYY-MM-DD"))||null===localStorage.getItem(c.format("YYYY-MM-DD"))?"none":void 0===JSON.parse(localStorage.getItem(c.clone().format("YYYY-MM-DD"))).find((function(e){return!1===e.clicked}))?"all-clear":"")})]},n)}))},t));return e}()})})})]})})};n(74);var C=function(){var e=Object(c.useState)(l()()),t=Object(r.a)(e,2),n=t[0],a=t[1],o=Object(s.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{history:o,setNow:a}),Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{exact:!0,path:"/todo",children:Object(j.jsx)(s.a,{to:"/todo/today"})}),Object(j.jsxs)(s.b,{path:"/todo/today",children:[Object(j.jsx)(y,{now:n,setNow:a}),Object(j.jsx)(w,{now:n}),Object(j.jsx)(b,{now:n.format("YYYY-MM-DD")})]}),Object(j.jsx)(s.b,{path:"/todo/month",children:Object(j.jsx)(M,{history:o,setNow:a})})]}),Object(j.jsx)(Y,{})]})},S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x.a,{children:Object(j.jsx)(C,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/todo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/todo","/service-worker.js");S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):F(t,e)}))}}(),T()}},[[75,1,2]]]);
//# sourceMappingURL=main.7ca9ce2e.chunk.js.map